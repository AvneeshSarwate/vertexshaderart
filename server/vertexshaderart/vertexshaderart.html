<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">

    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@greggman">
    <meta name="twitter:domain" content="vertexshaderart.com">
    <meta name="twitter:title" content="vertexshaderart.com">

    <link href="/static/resources/images/vertexshaderart-icon.png" rel="shortcut icon" type="image/png">
</head>

<body>
</body>

<template name="sorting">

    <div class="sorting">
      <div class='button popular {{selected "popular"}}'>
          popular
      </div>
      <div class='button newest {{selected "newest"}}'>
          newest
      </div>
      <div class='button mostviewed {{selected "mostviewed"}}'>
          views
      </div>
      {{#each pages}}
        {{> page}}
      {{/each}}
    </div>

</template>

<template name="page">
     <a class='button {{samepageclass}}' href="/{{path}}/{{pageid}}">{{pagenum}}</a>
</template>

<template name="gallery">
  <header>

    <div>
        <div class="buttons">
            {{> userinfosignin}}
            <a href="/new/">create new</a>
            <a href="http://github.com/greggman/vertexshaderart">github</a>
        </div>
        <div><h1>vertexshaderart.com</h1></div>
    </div>
  </header>
  <div class="container">
     {{> artgrid path="gallery"}}
  </div>

  {{> vslogin}}

</template>

<template name="artpiece">

<div class="artpiece">
    <a href="/art/{{_id}}">
      <img class="thumbnail" src="{{screenshotLink.url}}" />
    </a>
    <div class="galleryinfo">
        <div class="galleryname"><a href="/art/{{_id}}">&ldquo;{{name}}&rdquo;</a> <a href="/user/{{username}}">by: {{username}}</a></div><div><a href="/art/{{_id}}"><img src="/static/resources/images/eye.svg" /> {{views}} - <img src="/static/resources/images/heart.svg" /> {{likes}}</a></div>
    </div>
</div>
<!--
<div>
  <div>id: {{_id}}</div>
  <div>sid: {{screenshotDataId}}</div>
</div>
-->

</template>

<template name="artgrid">
     <div class="gallery">
         {{> sorting}}
         {{#each art}}
           {{> artpiece}}
         {{/each}}
     </div>
</template>

<template name="userinfolike">
      {{#if currentUser}}
      <div id="like" class="icon currentuser">
          {{#if likedByUser}}
            <img src="/static/resources/images/heart-liked.svg" />
          {{else}}
            <img src="/static/resources/images/heart.svg" />
          {{/if}}
      </div>
      {{else}}
        <div id="like" class="icon nouser">
            <img src="/static/resources/images/heart.svg" />
        </div>
      {{/if}}
</template>

<template name="userinfosignin">
      {{#if currentUser}}
      <div id="user" class="currentuser">
          [{{currentUser.username}}]
      </div>
      {{else}}
        <div id="user" class="nouser">
            sign in
        </div>
      {{/if}}
</template>

<template name="userinfo">
    <div id="userInfo">
        {{> userinfosignin}}
        {{> userinfolike}}
    </div>
</template>

<template name="userprofile">
  <header>

    <div>
        <div class="buttons">
           {{> userinfosignin}}
           <a href="/new/">create new</a>
           <a href="/">gallery</a>
           {{#if userIsCurrentUser}}
             <div class="logout">
                 logout
             </div>
           {{/if}}
        </div>
        <div><h1>vertexshaderart.com</h1></div>
    </div>
  </header>
  <div class="infoContainer">
    {{#if userExists}}
       <h2>Profile:</h2>
       <table>
           <tr>
           　　<td><div>username:</div></td>
           　　<td>
                 {{#if editUsername}}
                   <input class="usernameedit" type="text" value="{{username}}" />
                 {{else}}
                   <div class="username">{{username}}</div>
                 {{/if}}
           　　</td>
           </tr>
       </table>
       <h2>Creations:</h2>
       {{> artgrid user="true" path="user"}}
    {{else}}
      <h2>no such user</h2>
    {{/if}}
  </div>

  {{> vslogin}}

</template>

<template name="admin">
  <div class="container">
    <header>
      <h1>verteshaderart.com</h1>
      <div>making art with MATH!</div>
    </header>

      {{> loginButtons}}

      <label class="hide-completed">
        <input type="checkbox" checked="{{hideCompleted}}" />
        Hide Completed Art
      </label>

      {{#if currentUser}}
      <form class="new-art">
        <input type="text" name="text" placeholder="Type to add new art" />
      </form>
      {{/if}}


    <hr/>
    <ul>
      {{#each art}}
        {{> artitem}}
      {{/each}}
    </ul>
  </div>

</template>

<template name="vslogin">
  <!--
  <div style="z-index: 1000; position: absolute; left: 0; top: 0; background-color:red; color: white;">
      login template!
  </div>
  -->
  {{#if currentlyLoggingIn}}

    <div id="vsloginback" class="fulldialog">
        <div id="vslogin">
            {{> atForm}}
        </div>
    </div>

  {{/if}}
</template>

<template name="artpage">

{{> vsart}}

{{> vslogin}}

<!--
<div style="position: absolute; left:0; top:0; z-index: 200; color: white; background: red;">
   {{ myDamnData }} {{ username }} - {{ _id }}
</div>
-->

</template>

<!--
<template name="artitem">
  <li class="{{#if checked}}checked{{/if}} {{#if private}}private{{/if}}">
    <button class="delete">&times;</button>

    <input type="checkbox" checked="{{checked}}" class="toggle-checked" />

    <div style="color: black;">
        id: {{ _id }}
    </div>

    {{#if isOwner}}
      <button class="toggle-private">
        {{#if private}}
          Private
        {{else}}
          Public
        {{/if}}
      </button>
    {{/if}}

    <span class="text"><strong>{{username}}</strong> - {{text}}</span>

    <img src="{{screenshotDataURL}}" />

    <pre>
    {{settings}}
    </pre>
  </li>
</template>
-->

<template name="loading">
   <div>
     loading...
   </div>
</template>

